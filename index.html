<!DOCTYPE HTML>

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="wrapper">
        <div class="entry">
            <form>
                <input type="radio" name="1" value="1"> John Doe<br />
                <input type="radio" name="1" value="2"> Jane Doe<br />
                <button type="button" onclick="vote(0)">Vote</button>
            </form>
        </div>
        <div class="entry">
            <form>
                <input type="radio" name="teacher" value="john doe"> John Doe<br />
                <input type="radio" name="teacher" value="jane doe"> Jane Doe<br />
                <button type="button" onclick="vote(1)">Vote</button>
            </form>
        </div>
    </div>
    <script type="text/javascript">
        function vote(entry) {
            var xhr = new XMLHttpRequest();
            var value;
            var choices = document.getElementsByName(entry);
            if (choices[0].checked) {
                value = 1;
            } else {
                value = 2;
            }

            var post = {
                id: entry,
                value: value
            }

            var json = JSON.stringify(post);
            xhr.open("POST", "/vote/");
            xhr.send(post);

            var radios = document.querySelectorAll('input[type="radio"]:checked');
            if (radios.length > 0) {
                alert("voted")
            } else {
                alert("please vote")
            }
        }

    </script>
</body>
